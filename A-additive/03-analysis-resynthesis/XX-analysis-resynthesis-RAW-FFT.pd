#N canvas 215 222 646 360 10;
#X declare -path ../../lib;
#X declare -path ./lib;
#N canvas 4 23 486 472 load-sample 0;
#X obj 75 75 openpanel;
#X msg 75 96 read -resize \$1 sample;
#X obj 75 204 soundfiler;
#X obj 321 218 table sample;
#X obj 150 130 r lb2;
#X obj 159 256 list split 1;
#X obj 159 321 s sample-sampling-rate;
#X floatatom 179 292 10 0 0 0 - - -, f 10;
#X obj 75 370 s sample-num-samples;
#X obj 75 55 inlet;
#X msg 150 155 read -resize ../../audio/cowbell.wav sample;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 2 1 5 0;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 9 0 0 0;
#X connect 10 0 2 0;
#X restore 87 97 pd load-sample;
#N canvas 673 328 585 679 analysis 0;
#X obj 43 101 f;
#X obj 60 191 until;
#X obj 60 262 f;
#X msg 120 218 0;
#X obj 60 303 moses;
#X obj 133 171 s clear-all-peak-tables;
#X floatatom 80 343 10 0 0 0 - - -, f 10;
#X obj 374 129 s resize-all-peak-tables;
#X floatatom 404 90 15 0 0 0 - - -, f 15;
#X msg 60 511 \; peak-\$1-data \$2 \$3 \$4 \$5 \;;
#X obj 387 425 r sample-num-samples;
#X obj 105 392 r window-size;
#X obj 43 123 t b f b b;
#X obj 90 263 +;
#X obj 130 263 r analysis-hop;
#X obj 43 51 inlet;
#X obj 13 151 outlet;
#X obj 387 497 /;
#X obj 374 49 r analysis-num-frames;
#X obj 417 497 r analysis-hop;
#X obj 417 518 t b f;
#X obj 387 548 + 0.5;
#X obj 387 569 i;
#X obj 387 590 s analysis-num-frames;
#X obj 77 101 r analysis-num-frames;
#X floatatom 404 460 15 0 0 0 - - -, f 15;
#X obj 151 294 r sample-num-samples;
#X obj 151 315 -;
#X obj 181 315 r window-size;
#X obj 181 336 t b f;
#X obj 60 432 pack f f f;
#X msg 60 460 list sample \$2 \$1 \$3 0;
#X obj 205 392 r sample-sampling-rate;
#X obj 332 331 clone peak-data-writer 40;
#X obj 60 490 sigmund~ -t -npeak 40 -maxfreq 20000 peaks;
#X connect 0 0 12 0;
#X connect 1 0 2 0;
#X connect 2 0 4 0;
#X connect 2 0 13 0;
#X connect 3 0 2 1;
#X connect 4 0 6 0;
#X connect 4 0 30 0;
#X connect 10 0 17 0;
#X connect 10 0 25 0;
#X connect 11 0 30 1;
#X connect 12 0 16 0;
#X connect 12 1 1 0;
#X connect 12 2 3 0;
#X connect 12 3 5 0;
#X connect 13 0 2 1;
#X connect 14 0 13 1;
#X connect 15 0 0 0;
#X connect 17 0 21 0;
#X connect 18 0 8 0;
#X connect 18 0 7 0;
#X connect 19 0 20 0;
#X connect 20 0 17 0;
#X connect 20 1 17 1;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 24 0 0 1;
#X connect 26 0 27 0;
#X connect 27 0 4 1;
#X connect 28 0 29 0;
#X connect 29 0 27 0;
#X connect 29 1 27 1;
#X connect 30 0 31 0;
#X connect 31 0 34 0;
#X connect 32 0 30 2;
#X connect 34 0 9 0;
#X restore 87 117 pd analysis;
#N canvas 1060 410 793 438 resynthesis 0;
#X obj 70 271 outlet~;
#X obj 368 140 table real;
#X obj 368 160 table imag;
#X obj 70 108 rifft~;
#X obj 110 169 tabreceive~ hann;
#X obj 70 169 *~;
#X obj 70 30 tabreceive~ real;
#X obj 103 60 tabreceive~ imag;
#X obj 368 120 table hann;
#X obj 508 166 block~ 2048 4 1;
#X msg 508 136 set \$1 \$2 1;
#X obj 508 46 r window-size;
#X obj 508 117 pack f f;
#X obj 558 87 t b f;
#X obj 558 66 r overlap;
#X obj 508 236 r window-size;
#N canvas 568 23 534 391 fill-hann 0;
#X obj 64 51 r window-size;
#X obj 64 72 t f b f;
#X obj 64 93 until;
#X obj 64 144 f;
#X obj 94 145 + 1;
#X msg 84 120 0;
#X msg 179 115 \; hann resize \$1 \;;
#X obj 64 165 t f f;
#X obj 64 342 tabwrite hann;
#X obj 64 186 /;
#X obj 64 207 * 2;
#X obj 64 228 * 3.14159;
#X obj 64 249 t b f;
#X msg 64 270 1;
#X obj 64 291 -;
#X obj 100 274 cos;
#X obj 64 312 * 0.5;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 1 5 0;
#X connect 1 2 6 0;
#X connect 1 2 9 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 7 0 9 0;
#X connect 7 1 8 1;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 15 0;
#X connect 13 0 14 0;
#X connect 14 0 16 0;
#X connect 15 0 14 1;
#X connect 16 0 8 0;
#X restore 508 326 pd fill-hann;
#X msg 508 267 \; real resize \$1 \; imag resize \$1 \;;
#X obj 252 214 f;
#X obj 252 181 bang~;
#X msg 312 315 \; real const 0 \; imag const 0 \;;
#X floatatom 283 257 10 0 0 0 - - -, f 10;
#X obj 252 374 s read-index;
#X obj 252 284 t f b;
#N canvas 1259 23 530 444 playhead-ramp 0;
#X obj 197 374 line;
#X msg 114 303 stop;
#X msg 197 312 0 \, \$2 \$1;
#X obj 197 259 pack f f;
#X obj 197 395 outlet;
#X obj 255 138 r sample-num-samples;
#X obj 255 159 /;
#X obj 255 210 * 1000;
#X obj 295 159 r sample-sampling-rate;
#X obj 295 180 t b f;
#X obj 197 96 / 100;
#X obj 137 35 r playback-speed;
#X obj 137 56 moses 1;
#X obj 137 77 t b;
#X obj 197 204 /;
#X obj 272 260 r analysis-num-frames;
#X obj 197 147 t b f;
#X obj 197 168 f;
#X floatatom 223 235 10 0 0 0 - - -, f 10;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 17 1;
#X connect 8 0 9 0;
#X connect 9 0 6 0;
#X connect 9 1 6 1;
#X connect 10 0 16 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 12 1 10 0;
#X connect 13 0 1 0;
#X connect 14 0 3 0;
#X connect 14 0 18 0;
#X connect 15 0 3 1;
#X connect 16 0 17 0;
#X connect 16 1 14 1;
#X connect 17 0 14 0;
#X restore 292 214 pd playhead-ramp;
#X obj 261 50 clone peak-data-reader 40;
#X connect 3 0 5 0;
#X connect 4 0 5 1;
#X connect 5 0 0 0;
#X connect 6 0 3 0;
#X connect 7 0 3 1;
#X connect 10 0 9 0;
#X connect 11 0 12 0;
#X connect 12 0 10 0;
#X connect 13 0 12 0;
#X connect 13 1 12 1;
#X connect 14 0 13 0;
#X connect 15 0 17 0;
#X connect 18 0 21 0;
#X connect 18 0 23 0;
#X connect 19 0 18 0;
#X connect 23 0 22 0;
#X connect 23 1 20 0;
#X connect 24 0 18 1;
#X restore 87 187 pd resynthesis;
#N canvas 530 176 450 300 init 0;
#X obj 180 122 r lb1;
#X obj 46 41 loadbang;
#X obj 46 62 t b b;
#X obj 46 133 s lb2;
#X obj 86 103 s lb1;
#X obj 185 49 declare -path ../../lib;
#X obj 185 69 declare -path ./lib;
#X msg 42 231 \; pd dsp 1 \; master-volume-set 90 \;;
#X obj 42 209 r lb2;
#X obj 26 62 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 180 144 \; overlap 4 \; window-size 2048 \; analysis-hop 16
\; pitch-scalar-set 1 \;;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 4 0;
#X connect 8 0 7 0;
#X connect 9 0 2 0;
#X restore 87 77 pd init;
#X obj 87 245 output~;
#X obj 483 80 vsl 15 128 0.05 2 0 0 pitch-scalar pitch-scalar-set pitch-scalar
0 -9 0 10 -262144 -1 -1 6187 1;
#X msg 285 103 10;
#X floatatom 285 174 5 0 0 1 playback-speed - playback-speed, f 5
;
#X msg 315 103 25;
#X msg 345 103 75;
#X msg 375 103 100;
#X msg 405 103 150;
#X obj 155 218 r master-volume-set;
#X obj 87 137 bng 15 250 50 0 empty empty done 17 7 0 10 -262144 -1
-1;
#X obj 67 117 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 67 97 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 1 0 13 0;
#X connect 2 0 4 0;
#X connect 2 0 4 1;
#X connect 6 0 7 0;
#X connect 8 0 7 0;
#X connect 9 0 7 0;
#X connect 10 0 7 0;
#X connect 11 0 7 0;
#X connect 12 0 4 2;
#X connect 14 0 1 0;
#X connect 15 0 0 0;
