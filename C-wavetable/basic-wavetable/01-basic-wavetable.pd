#N canvas 415 155 792 572 10;
#X declare -path ../../lib;
#N canvas 0 22 450 278 (subpatch) 0;
#X array \$0-wavetable 515 float 1;
#A 0 -0.00766044 0 0.00766044 0.0153301 0.0230181 0.0307331 0.0384832
0.0462756 0.054117 0.0620126 0.0699668 0.0779825 0.0860614 0.0942039
0.102409 0.110674 0.118995 0.127369 0.135787 0.144244 0.152731 0.16124
0.169762 0.178287 0.186806 0.195309 0.203786 0.21223 0.220631 0.228983
0.237279 0.245515 0.253685 0.261789 0.269824 0.277792 0.285693 0.293532
0.301313 0.309042 0.316726 0.324373 0.331993 0.339596 0.347192 0.354791
0.362405 0.370043 0.377717 0.385435 0.393208 0.401041 0.408943 0.416918
0.42497 0.433101 0.441311 0.4496 0.457964 0.466399 0.474899 0.483454
0.492058 0.500697 0.509362 0.51804 0.526718 0.535383 0.544021 0.55262
0.561166 0.569648 0.578056 0.58638 0.594612 0.602746 0.610777 0.618705
0.62653 0.634252 0.641879 0.649415 0.656872 0.66426 0.671592 0.678884
0.686152 0.693414 0.700688 0.707994 0.715352 0.72278 0.730297 0.73792
0.745667 0.75355 0.761582 0.769772 0.778128 0.786651 0.795342 0.804196
0.813206 0.82236 0.831641 0.841029 0.8505 0.860026 0.869574 0.879111
0.888596 0.897989 0.907246 0.916322 0.925168 0.933737 0.94198 0.949849
0.957296 0.964274 0.970739 0.976648 0.981962 0.986646 0.990665 0.993994
0.996607 0.998488 0.999621 1 0.999621 0.998488 0.996608 0.993994 0.990666
0.986647 0.981964 0.97665 0.97074 0.964276 0.957297 0.949851 0.941982
0.933739 0.92517 0.916324 0.907248 0.897991 0.888598 0.879113 0.869577
0.860028 0.850502 0.841031 0.831643 0.822362 0.813208 0.804198 0.795344
0.786653 0.77813 0.769774 0.761584 0.753552 0.745668 0.737922 0.730298
0.722781 0.715353 0.707996 0.700689 0.693415 0.686153 0.678885 0.671594
0.664261 0.656874 0.649417 0.64188 0.634254 0.626531 0.618707 0.610779
0.602747 0.594613 0.586382 0.578058 0.56965 0.561168 0.552622 0.544023
0.535385 0.52672 0.518042 0.509364 0.500699 0.492059 0.483456 0.474901
0.466401 0.457966 0.449602 0.441313 0.433102 0.424971 0.416919 0.408945
0.401043 0.393209 0.385437 0.377718 0.370045 0.362406 0.354793 0.347193
0.339598 0.331995 0.324375 0.316727 0.309043 0.301314 0.293534 0.285695
0.277793 0.269826 0.261791 0.253687 0.245516 0.237281 0.228985 0.220633
0.212231 0.203788 0.195311 0.186808 0.178289 0.169764 0.161242 0.152733
0.144246 0.135789 0.12737 0.118997 0.110676 0.102411 0.0942056 0.0860631
0.0779842 0.0699685 0.0620143 0.0541187 0.0462773 0.0384848 0.0307348
0.0230198 0.0153318 0.0076621 1.65611e-06 -0.00765878 -0.0153285 -0.0230165
-0.0307314 -0.0384815 -0.046274 -0.0541153 -0.0620109 -0.069965 -0.0779807
-0.0860596 -0.0942021 -0.102407 -0.110672 -0.118994 -0.127367 -0.135785
-0.144242 -0.152729 -0.161239 -0.169761 -0.178286 -0.186804 -0.195307
-0.203784 -0.212228 -0.220629 -0.228981 -0.237277 -0.245513 -0.253684
-0.261787 -0.269822 -0.27779 -0.285691 -0.29353 -0.301311 -0.30904
-0.316724 -0.324372 -0.331992 -0.339594 -0.34719 -0.354789 -0.362403
-0.370041 -0.377715 -0.385434 -0.393206 -0.401039 -0.408941 -0.416916
-0.424968 -0.433099 -0.441309 -0.449598 -0.457963 -0.466398 -0.474897
-0.483453 -0.492056 -0.500696 -0.509361 -0.518039 -0.526717 -0.535381
-0.544019 -0.552618 -0.561164 -0.569647 -0.578054 -0.586378 -0.59461
-0.602744 -0.610776 -0.618704 -0.626528 -0.634251 -0.641877 -0.649414
-0.65687 -0.664258 -0.67159 -0.678882 -0.68615 -0.693412 -0.700686
-0.707993 -0.71535 -0.722778 -0.730295 -0.737919 -0.745665 -0.753548
-0.76158 -0.769771 -0.778126 -0.786649 -0.79534 -0.804194 -0.813204
-0.822358 -0.831639 -0.841027 -0.850498 -0.860024 -0.869572 -0.879109
-0.888594 -0.897987 -0.907244 -0.91632 -0.925166 -0.933735 -0.941978
-0.949847 -0.957294 -0.964273 -0.970738 -0.976647 -0.981961 -0.986645
-0.990664 -0.993993 -0.996607 -0.998487 -0.999621 -1 -0.999622 -0.998488
-0.996608 -0.993995 -0.990667 -0.986647 -0.981965 -0.976651 -0.970742
-0.964277 -0.957299 -0.949852 -0.941984 -0.933741 -0.925172 -0.916325
-0.90725 -0.897993 -0.8886 -0.879115 -0.869579 -0.86003 -0.850504 -0.841033
-0.831645 -0.822364 -0.81321 -0.8042 -0.795346 -0.786655 -0.778131
-0.769776 -0.761586 -0.753553 -0.74567 -0.737924 -0.7303 -0.722783
-0.715355 -0.707997 -0.700691 -0.693417 -0.686155 -0.678887 -0.671595
-0.664263 -0.656875 -0.649419 -0.641882 -0.634256 -0.626533 -0.618709
-0.610781 -0.602749 -0.594615 -0.586383 -0.57806 -0.569652 -0.56117
-0.552623 -0.544025 -0.535387 -0.526722 -0.518044 -0.509366 -0.500701
-0.492061 -0.483458 -0.474902 -0.466403 -0.457968 -0.449604 -0.441315
-0.433104 -0.424973 -0.416921 -0.408946 -0.401045 -0.393211 -0.385439
-0.37772 -0.370046 -0.362408 -0.354794 -0.347195 -0.339599 -0.331997
-0.324376 -0.316729 -0.309045 -0.301316 -0.293535 -0.285697 -0.277795
-0.269828 -0.261792 -0.253689 -0.245518 -0.237283 -0.228986 -0.220635
-0.212233 -0.20379 -0.195312 -0.18681 -0.178291 -0.169766 -0.161244
-0.152735 -0.144248 -0.135791 -0.127372 -0.118999 -0.110678 -0.102412
-0.0942074 -0.0860649 -0.0779859 -0.0699702 -0.062016 -0.0541204 -0.046279
-0.0384865 -0.0307365 -0.0230215 -0.0153335 -0.00766376 -3.31223e-06
0.00765713;
#X coords 0 1 514 -1 200 140 1 0 0;
#X restore 472 38 graph;
#X obj 65 232 tabosc4~ \$0-wavetable;
#X obj 65 313 output~;
#X obj 532 503 declare -path ../../lib;
#X obj 152 263 loadbang;
#X msg 152 284 80;
#X text 310 210 Use the "sinesum" and "cosinesum" messages to create
wavetables that are sums of sinusoids at various amplitudes. Pd will
automatically create the 3 extra wraparound point copies when you use
this method.;
#X obj 349 278 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 349 298 f \$0;
#X msg 349 319 \; \$1-wavetable sinesum 32 1 0.5 0.333333 0.25 0.2
\; \$1-wavetable normalize \;;
#X text 310 383 Looking carefully at the wavetable data in list view
\, you'll see that the first copy point is a copy of the LAST true
point in the waveform. The final two copy points are copies of the
FIRST TWO true points in the waveform. Knowing this \, you can add
appropriate copy points to your hand-drawn waveforms.;
#N canvas 0 97 931 502 other-waveform-recipies 0;
#X obj 46 34 bng 15 250 50 0 empty empty sawtooth 17 7 0 10 -262144
-1 -1;
#X obj 46 54 f \$0;
#X text 183 30 For a sawtooth wave \, the amplitude of harmonic n should
be 1.0/n.;
#X obj 46 194 bng 15 250 50 0 empty empty square 17 7 0 10 -262144
-1 -1;
#X obj 46 214 f \$0;
#X msg 46 75 \; \$1-wavetable sinesum 512 1 0.5 0.333333 0.25 0.2 0.166667
0.142857 0.125 0.111111 \; \$1-wavetable normalize \;;
#X obj 46 364 bng 15 250 50 0 empty empty triangle 17 7 0 10 -262144
-1 -1;
#X obj 46 384 f \$0;
#X text 183 340 For a triangle wave \, the even harmonics should also
have amplitudes of zero. For odd harmonics \, the amplitude of harmonic
n should be 1.0/(n^2) \, where every other odd harmonic has a negative
amplitude (harmonics 3 7 11 \, etc).;
#X text 183 170 For a square wave \, the amplitude of harmonic n should
also be 1.0/n \, but there should be no even harmonics (only harmonics
1 3 5 7 9 11 \, etc). The amplitudes of the even harmonics should all
be zero.;
#X msg 46 235 \; \$1-wavetable sinesum 512 1 0 0.333333 0 0.2 0 0.142857
0 0.111111 0 0.0909091 \; \$1-wavetable normalize \;;
#X msg 46 405 \; \$1-wavetable sinesum 512 1 0 -0.111111 0 0.04 0 -0.0204082
0 0.0123457 0 -0.00826446 \; \$1-wavetable normalize \;;
#X floatatom 646 52 5 1 100 0 - - -, f 5;
#X floatatom 646 202 5 1 100 0 - - -, f 5;
#N canvas 585 87 429 679 generate-n-harmonic-square-wave 0;
#X obj 52 54 inlet;
#X obj 101 176 until;
#X obj 131 217 f;
#X obj 161 218 + 1;
#X obj 112 438 list store, f 39;
#X obj 131 308 t b f;
#X msg 131 329 1;
#X obj 131 350 /;
#X msg 131 391 append \$1;
#X obj 52 85 t b b f b;
#X obj 112 489 list prepend 512;
#X obj 112 520 list prepend sinesum;
#X obj 112 541 list trim;
#X obj 112 562 s \$0-wavetable;
#X obj 23 583 f \$0;
#X msg 23 604 \; \$1-wavetable normalize \;;
#X obj 131 238 t f f;
#X msg 149 193 1;
#X obj 131 288 spigot;
#X obj 191 259 % 2;
#X obj 191 300 select 0;
#X msg 191 321 0;
#X connect 0 0 9 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 16 0;
#X connect 3 0 2 1;
#X connect 4 0 10 0;
#X connect 5 0 6 0;
#X connect 5 1 7 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 4 0;
#X connect 9 0 14 0;
#X connect 9 1 4 0;
#X connect 9 2 1 0;
#X connect 9 3 17 0;
#X connect 9 3 4 1;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 14 0 15 0;
#X connect 16 0 18 0;
#X connect 16 1 19 0;
#X connect 17 0 2 1;
#X connect 18 0 5 0;
#X connect 19 0 18 1;
#X connect 19 0 20 0;
#X connect 20 0 21 0;
#X connect 21 0 8 0;
#X restore 646 222 pd generate-n-harmonic-square-wave;
#N canvas 542 87 738 636 generate-n-harmonic-sawtooth-wave 0;
#X obj 52 54 inlet;
#X obj 111 166 until;
#X obj 131 217 f;
#X obj 161 218 + 1;
#X obj 112 348 list store, f 39;
#X msg 149 193 1;
#X obj 131 238 t b f;
#X msg 131 259 1;
#X obj 131 280 /;
#X msg 131 301 append \$1;
#X obj 52 85 t b b f b;
#X obj 112 399 list prepend 512;
#X obj 112 430 list prepend sinesum;
#X obj 112 451 list trim;
#X obj 112 472 s \$0-wavetable;
#X obj 23 493 f \$0;
#X msg 23 514 \; \$1-wavetable normalize \;;
#X text 386 344 First \, clear the memory of the [list store] with
a bang to the right inlet, f 37;
#X text 253 394 Prepend 512 to the list of amplitudes to request a
512-point wavetable;
#X text 253 429 Prepend the command "sinesum" to the list;
#X text 253 459 Trim off the "list" selector and send the sinesum command
list to the table directly.;
#X text 213 519 Normalize the table aferward;
#X text 182 251 Build up a list of harmonic amplitudes by appending
numbers to the list in [list store]. Here's where the wavetable formula
goes., f 48;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 2 1;
#X connect 4 0 11 0;
#X connect 5 0 2 1;
#X connect 6 0 7 0;
#X connect 6 1 8 1;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 4 0;
#X connect 10 0 15 0;
#X connect 10 1 4 0;
#X connect 10 2 1 0;
#X connect 10 3 5 0;
#X connect 10 3 4 1;
#X connect 11 0 12 0;
#X connect 12 0 13 0;
#X connect 13 0 14 0;
#X connect 15 0 16 0;
#X restore 646 72 pd generate-n-harmonic-sawtooth-wave;
#X floatatom 646 362 5 1 100 0 - - -, f 5;
#N canvas 864 76 477 801 generate-n-harmonic-triangle-wave 0;
#X obj 52 54 inlet;
#X obj 101 176 until;
#X obj 131 217 f;
#X obj 161 218 + 1;
#X obj 112 548 list store, f 39;
#X obj 131 460 /;
#X msg 131 501 append \$1;
#X obj 52 85 t b b f b;
#X obj 112 599 list prepend 512;
#X obj 112 630 list prepend sinesum;
#X obj 112 651 list trim;
#X obj 112 672 s \$0-wavetable;
#X obj 23 623 f \$0;
#X msg 23 714 \; \$1-wavetable normalize \;;
#X obj 131 238 t f f;
#X msg 149 193 1;
#X obj 131 288 spigot;
#X obj 261 259 % 2;
#X obj 261 300 select 0;
#X msg 261 321 0;
#X obj 171 460 pow 2;
#X obj 131 308 t b f b;
#X obj 191 367 f;
#X msg 209 343 0;
#X obj 221 368 + 1;
#X obj 221 389 % 2;
#X obj 191 408 select 0 1;
#X msg 191 429 1;
#X msg 231 429 -1;
#X obj 131 430 f;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 14 0;
#X connect 3 0 2 1;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 6 0 4 0;
#X connect 7 0 12 0;
#X connect 7 1 4 0;
#X connect 7 2 1 0;
#X connect 7 3 15 0;
#X connect 7 3 4 1;
#X connect 7 3 23 0;
#X connect 8 0 9 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 12 0 13 0;
#X connect 14 0 16 0;
#X connect 14 1 17 0;
#X connect 15 0 2 1;
#X connect 16 0 21 0;
#X connect 17 0 16 1;
#X connect 17 0 18 0;
#X connect 18 0 19 0;
#X connect 19 0 6 0;
#X connect 20 0 5 1;
#X connect 21 0 29 0;
#X connect 21 1 20 0;
#X connect 21 2 22 0;
#X connect 22 0 24 0;
#X connect 22 0 26 0;
#X connect 23 0 22 1;
#X connect 24 0 25 0;
#X connect 25 0 22 1;
#X connect 26 0 27 0;
#X connect 26 1 28 0;
#X connect 27 0 29 1;
#X connect 28 0 29 1;
#X connect 29 0 5 0;
#X restore 646 382 pd generate-n-harmonic-triangle-wave;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 3 0 4 0;
#X connect 4 0 10 0;
#X connect 6 0 7 0;
#X connect 7 0 11 0;
#X connect 12 0 15 0;
#X connect 13 0 14 0;
#X connect 16 0 17 0;
#X restore 458 278 pd other-waveform-recipies;
#X obj 65 201 mtof~;
#X floatatom 65 131 5 0 0 0 - - -, f 5;
#X obj 65 172 line~;
#X obj 65 41 loadbang;
#X obj 65 62 metro 125;
#X obj 65 83 random 24;
#X obj 65 104 + 36;
#X obj 65 151 pack f 25;
#X text 141 62 Use a [metro] to pick some random MIDI pitches above
a bass C, f 18;
#X text 60 480 sinesum: lets you compute sums of sinewaves efficiently
and easily you tell it the number of points \, amplitude harmonic 1
\, amplitude harmonic 2 \, amplitude harmonic 3 \, etc \, etc \, for
however many harmonics you want.;
#X connect 1 0 2 0;
#X connect 1 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 2 2;
#X connect 7 0 8 0;
#X connect 8 0 9 0;
#X connect 12 0 1 0;
#X connect 13 0 19 0;
#X connect 14 0 12 0;
#X connect 15 0 16 0;
#X connect 16 0 17 0;
#X connect 17 0 18 0;
#X connect 18 0 13 0;
#X connect 19 0 14 0;
